<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style>
        .bind{
            color: red;
        }
    </style>
</head>
<body>
    <div id="link"></div>
    <script>
        var text = 'This Text TexXXXXT is some text, texXt texXt This this-in which we will search strings using regex expressions!';
        console.log(text);
        var startWith = /^Text/,
            endWith = /expressions!$/,
            patternCaseInsensitive = /this/ig,
            pattern = new RegExp('^' + 'This'),
            splitPattern = /[ ,\-.!]/, // escape '-' => '\-'
            apearPattern = /texX*t/ig, // X* appears 0, 1 or many times
            plusPattern = /texX+/g, // X+ appears atleast 1 time
            questionPattern = /texX?t/g, // X? appears 1 time or not
            dotPattern = /./g,
            orPattern = /Te?|me/g, // start 'Te' or end 'me'
            numbersPattern = /[0-9]/g,
            cappitalPattern = /[A-Z]/g,
            smallPattern = /[a-z]/g,
            lettersPattern = /[A-z]/g,
            numbersAndLettersPattern = /[0-z]/g,
            numbersAndCappitalsPattern = /[0-Z]/g,
            numbersAndCappitalsPattern2 = /[0-9A-Z]/g,
            withoutPattern = /[^a-z]/g, // without
            lengthPatternd = /[a-z]{5,7}/g, // length
            minLenPatternd = /[a-z]{5,}/g, // min length
            replace = /(\w+) (\w+)/g;

        console.log(endWith.test(text));
        console.log(pattern.test(text));
        console.log(text.match(patternCaseInsensitive));
        console.log(text.match(pattern));
        console.log(text.replace(patternCaseInsensitive, 'THAT'));
        console.log(text.split(splitPattern)
            .filter(function (word) {
                return !!word; // filter ''
            }));
        console.log(text.search(patternCaseInsensitive));
        console.log('*');
        console.log(text.match(apearPattern));
        console.log('+');
        console.log(text.match(plusPattern));
        console.log('?');
        console.log(text.match(questionPattern));
        console.log('.');
        console.log(text.match(dotPattern));
        console.log('|');
        console.log(text.match(orPattern));
        console.log('without');
        console.log(text.match(withoutPattern));
        console.log('length');
        console.log(text.match(lengthPatternd));
        console.log('minLength');
        console.log(text.match(minLenPatternd));
        console.log('replace');
        console.log(text.replace(replace, '$2 $1'));

        var reg = /(\w+) (\w+)/g;
        var text = 'Telerik Academy';
        console.log(text.replace(reg, '$2 $1'));

        console.log('==========1==========');


        //if (!(String.prototype.format)) {
        //    String.prototype.format = function (options) {
        //        var option,
        //            regex,
        //            regexExpression;

        //        var text = this.toString();

        //        for (option in options) {
        //            regexString = '#{' + option + '}';
        //            regexExpression = new RegExp(regexString, 'g');
        //            console.log(regexExpression);
        //            var obj = options[option];
        //            if (obj instanceof Object) {
        //                text = text.format(obj);
        //            } else {
        //                console.log(options[option]);
        //            }
        //            text = text.replace(regexExpression, options[option]);
        //        }

        //        return text;
        //    };
        //}

        //var stringToFormat = 'Hello, #{firstName}! Are you #{firstName}? Is your last name #{lastName} and your full name #{firstName} #{lastName}. Age #{age}?! Is your address #{city} #{street} N# #{number}',
        //    information = {
        //        firstName: 'Svetlin',
        //        lastName: 'Nakov',
        //        age: '55',
        //        address: {
        //            city: 'Sofia',
        //            street: 'Dondukov',
        //            number: '666',
        //        }
        //    };

        //console.log(stringToFormat.format(information));
        //console.log(stringToFormat);
        //console.log();

        if (!(String.prototype.format)) {
            String.prototype.format = function (options) {
                var option,
                    regex,
                    regexExpression,
                    leading = arguments[1] || '',
                    text = this.toString();

                for (option in options) {
                    regexString = '#{' + leading + option + '}';
                    regexExpression = new RegExp(regexString, 'g');
                    var obj = options[option];
                    if (obj instanceof Object) {
                        if (obj instanceof Array) {
                            //for (var index in obj) {
                            //    console.log(obj[index]);
                            //    console.log(leading + option + '[' + index + ']');
                            //    text = text.format(obj[index], leading + option + '[' + index + ']');
                            //}
                        } else {
                            text = text.format(obj, leading + option + '.');
                        }
                    }

                    text = text.replace(regexExpression, options[option]);
                }

                return text;
            };
        }

        var stringToFormat = 'Hello, #{name.firstName}!\n'
            + 'Is your last name #{name.lastName} and your full name #{name.firstName} #{name.lastName}.\n'
             + 'According to FBI your age is #{age}?!\n'
              + 'Your address is: #{address.city}, #{address.street} N# #{address.number}\n'
               + 'You are student in: #{univesityInfo.name} which is located in #{univesityInfo.address.city}, #{univesityInfo.address.street} ##{univesityInfo.address.number}\n'
                + 'Courses: \n\t Names: #{univesityInfo.courses.names}\n\t Grades: #{univesityInfo.courses.grades}',
            nakovData = {
                name:
                    {
                        firstName: 'Svetlin',
                        lastName: 'Nakov',
                    },
                age: '55',
                address: {
                    city: 'Sofia',
                    street: 'Dondukov',
                    number: '666',
                },
                univesityInfo:
                    {
                        name: 'Telerik Software Academy',
                        address: {
                            city: 'Sofia',
                            street: 'bul.Malinov',
                            number: '999',
                        },
                        courses: {
                            names: ['OOP', 'Java', 'CSS', 'HTML'],
                            grades: [2, 5, 6, 2],
                        }
                    },
            },
            kostovData = {
                name:
                    {
                        firstName: 'Nikolay',
                        lastName: 'Kostov',
                    },
                age: '45',
                address: {
                    city: 'Sofia',
                    street: 'Makedonia',
                    number: '333',
                },
                univesityInfo:
                    {
                        name: 'University of Sofia',
                        address: {
                            city: 'Sofia',
                            street: 'bul.Sofiiski',
                            number: '444',
                        },
                        courses: {
                            names: ['Databases', 'UnitTesting', '.NET', '.Chalga skills'],
                            grades: [3, 4, 3, 4],
                        },
                    },
            };

        console.log(stringToFormat);
        console.log(stringToFormat.format(nakovData));
        console.log(stringToFormat.format(kostovData));
        console.log('==========2==========');
        String.prototype.bind = function (values) {
            var div = document.createElement('div'),
                element;
            div.innerHTML = this;
            element = div.firstChild;

            for (var i = 0; i < element.attributes.length; i++) {
                var attribute = element.attributes[i];

                switch (attribute.name) {
                    case 'data-bind-content':
                        element.innerText = values[attribute.value];
                        break;
                    case 'data-bind-href':
                        element.setAttribute('href', values[attribute.value]);
                        break;
                    case 'data-bind-class':
                        element.setAttribute('class', values[attribute.value]);
                        break;
                    default:
                        break;
                }
            }

            return element;

        }

        var str = '<a data-bind-content="name" data-bind-href="link" data-bind-class="name"></а>',
            data = { name: 'bind', link: 'http://google.com' },
            link = str.bind(data),
            div = document.getElementById('link');
        div.appendChild(link);
    </script>
</body>
</html>
